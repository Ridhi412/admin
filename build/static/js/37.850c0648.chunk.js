(this["webpackJsonpshreyu-react"]=this["webpackJsonpshreyu-react"]||[]).push([[37],{685:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(133),o=a(134),s=a(146),i=a(147),r=a(245),m=a(198),d=a(199),u=a(172),h=a(145),E=a(194),b=a(195),g=a(196),p=a(200),f=a(201),v=a(92),y=a.n(v),N=(a(210),a(212),a(213),a(214),a(173),a(11));class j extends n.Component{constructor(e){super(e),this.state={to:"Everyone",subject:"",body:""},this.componentDidMount=()=>{N.a.collection("Notifcations").get().then(e=>{e.forEach(e=>{var t={subject:e.data().subject,body:e.data().body};this.state.notificationVar.push(t)}),console.log("componentDidMount",this.state.notificationVar)})},this.sendData=e=>{console.log("sendData function",this.state),e.preventDefault();try{N.a.collection("Notifcations").doc().set({to:this.state.to,subject:this.state.subject,body:this.state.body}),alert("Notification added"),window.location.reload()}catch(t){console.log("Notification"),console.log(t),alert(t.message)}},this.state={notificationVar:[]}}render(){return console.log(this.state),l.a.createElement("div",null,l.a.createElement(c.a,{className:"page-title align-items-center"},l.a.createElement(o.a,{sm:4,xl:6},l.a.createElement("h4",{className:"mb-1 mt-0"},"Send Notifications"))),l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(r.a,{method:"POST",action:"/contact"},l.a.createElement(m.a,{row:!0},l.a.createElement(d.a,{for:"exampleEmail",md:3},"To"),l.a.createElement(o.a,{md:9},l.a.createElement(u.a,{type:"text",name:"to",id:"to",placeholder:"enter email",value:this.state.to,onChange:e=>{this.setState({to:e.target.value}),console.log(e.target.value)}}))),l.a.createElement(m.a,{row:!0},l.a.createElement(d.a,{for:"phone",md:3},"Subject"),l.a.createElement(o.a,{md:9},l.a.createElement(u.a,{type:"text",name:"subject",id:"subject",placeholder:"Enter Subject",value:this.state.subject,onChange:e=>{this.setState({subject:e.target.value}),console.log(e.target.value)}}))),l.a.createElement(m.a,{row:!0},l.a.createElement(d.a,{for:"phone",md:3},"Body"),l.a.createElement(o.a,{md:9},l.a.createElement(u.a,{type:"textarea",name:"body",id:"body",rows:"6",placeholder:"Enter Body of the message",value:this.state.body,onChange:e=>{this.setState({body:e.target.value}),console.log(e.target.value)}}))),l.a.createElement("ul",{className:"list-inline wizard mb-0"},l.a.createElement("li",{className:"next list-inline-item float-right"},l.a.createElement(h.a,{onClick:this.sendData,color:"success"},"Submit"),l.a.createElement("div",null,"#success"===window.location.hash&&l.a.createElement("div",{id:"success"},l.a.createElement("p",null,"Your message has been sent!")),"#error"===window.location.hash&&l.a.createElement("div",{id:"error"},l.a.createElement("p",null,"An error occured while submitting the form."))))))))))}}class w extends n.Component{constructor(e){super(e),this.componentDidMount=()=>{N.a.collection("Notifcations").get().then(e=>{e.forEach(e=>{var t={subject:e.data().subject,body:e.data().body};this.state.notificationVar.push(t)}),console.log("componentDidMount",this.state.notificationVar)})},this.toggle=e=>{this.state.activeTab!==e&&this.setState({activeTab:e})},this.state={activeTab:"1",notificationVar:[]},this.toggle=this.toggle.bind(this)}render(){const e=[{id:"1",title:"Send Notification",icon:"uil-home-alt",text:l.a.createElement(j,null)},{id:"2",title:"View Notifications",icon:"uil-user",text:l.a.createElement(x,{data:this.state.notificationVar})}];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"header-title mb-3 mt-3"},"Notifications"),l.a.createElement(s.a,null,l.a.createElement(i.a,null,l.a.createElement(E.a,{className:"nav nav-pills navtab-bg nav-justified"},e.map((e,t)=>l.a.createElement(b.a,{key:t},l.a.createElement(g.a,{href:"#",className:y()({active:this.state.activeTab===e.id}),onClick:()=>{this.toggle(e.id)}},l.a.createElement("i",{className:y()(e.icon,"d-sm-none","d-block","mr-1")}),l.a.createElement("span",{className:"d-none d-sm-block"},e.title))))),l.a.createElement(p.a,{activeTab:this.state.activeTab},e.map((e,t)=>l.a.createElement(f.a,{tabId:e.id,key:t},l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:"12"},l.a.createElement("p",{className:"mt-2"},e.text)))))))))}}const x=({data:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,null,l.a.createElement(o.a,null,l.a.createElement("table",{class:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Subject"),l.a.createElement("th",{scope:"col"},"Body"))),l.a.createElement("tbody",null,e.map((e,t)=>l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},e.subject),l.a.createElement("td",null,e.body))))))));t.default=w}}]);
//# sourceMappingURL=37.850c0648.chunk.js.map